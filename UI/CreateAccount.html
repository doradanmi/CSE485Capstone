<!--Front end does not handle duplicate usernames. Back end must implement that. Back end
must also handle passwords and allow user to save changes if information requirements are satisfied.
No empty blanks allowed.-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Create Account Page</title>
    <link rel="stylesheet" type="text/css" href="cAStyle.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/ffd3683b0c.js" crossorigin="anonymous"></script>
  </head>
   

  <!-- Main content area -->
  <body>
    <div class="createAccount">
      <div class = "cAHeader">
        <h2>Create Account</h2>
      </div>
      
                
        <div class = "firstAndLastName">
          <div class ="fName">
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" placeholder="John" value="">
          </div>
                    
          <div class = "lName">
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" placeholder="Doe" value="">
          </div>
        </div>
        <div class = "otherAccountInfo">
          <!--<div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="johndoe@example.com" value="">-->
          </div>
          <div class="form-group">
            <label for="role">Job Role:</label>
            <input type="text" id="role" name="role" placeholder="Product Manager" value="">
          </div>
          <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="johndoe" value="">
          </div>
                
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" placeholder="password" value="">
          </div>
        </div>  
        <button id="submit">Sign Up</button>
        <!--<div id="signingUpID"></div>-->

        <div class ="loginLink">
            <a href="login.html" required style ="color: lightslategray;">Login</a>
        </div>
        

                
      

    </div>

    <script>

      
      
      

        const url = 'https://nd1uasutw9.execute-api.us-east-1.amazonaws.com/Prod/create';
                      
        
        const signUpButton = document.getElementById("submit");

        signUpButton.addEventListener('click', (event) => {

        //This is to prevent page from refreshing 
        event.preventDefault();


        //Gets value of user information
        const firstName = document.getElementById('firstName').value;
		    const lastName = document.getElementById('lastName').value;
		    //const email = document.getElementById('email').value;
        const role = document.getElementById('role').value;
		    const username = document.getElementById('username').value;
		    const password = document.getElementById('password').value;

        // Stores values to send to back end
        const payload = {

            first_name: firstName,
            last_name: lastName,
           // email: email,
            role: role,
            user: username,
            password: password,

        };

        // Define the options for the POST request
        const options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        };

        // Send a POST request to the API endpt
        fetch(url, options)
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error(error));

        });

       

      

    </script>   
    
  </body>

</html>